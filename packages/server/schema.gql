# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type CargoPermissions {
  _id: ID!

  """ID of the user from the Auth microservice"""
  user: ID!

  """The bucket that the user permission is on"""
  bucket: String!

  """If the user has read access to the bucket"""
  read: Boolean!

  """If the user has write access to the bucket"""
  write: Boolean!

  """If the user can delete objects in the bucket"""
  delete: Boolean!

  """If the user can modify permissions on the bucket"""
  admin: Boolean!
}

type CargoSignedReqeuest {
  """AWS Signature based on the request"""
  signature: String!

  """SHA256 Hashed Body"""
  bodyHash: String!
}

type Query {
  """Get all permissions for the user of the JWT for their project"""
  cargoGetCargoPermissions: [CargoPermissions!]!

  """
  Allows the currently authenticated user to get their own permisisons for a bucket
  """
  cargoGetCargoPermissionsForBucket(bucket: String!): CargoPermissions!

  """Means for the admin to get all permissions for a given bucket"""
  cargoGetAllBucketCargoPermissions(bucket: String!): [CargoPermissions!]!
  cargoSignRequest(request: CargoResourceRequest!): CargoSignedReqeuest!
}

"""Wrapper for AWS HttpRequest"""
input CargoResourceRequest {
  method: String!
  protocol: String!
  hostname: String!
  port: Float
  path: String!
  query: JSON!
  headers: JSON!
  body: JSON
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

type Mutation {
  cargoChangeCargoPermissions(change: CargoPermissionChange!, user: String!, bucket: String!): CargoPermissions!
  cargoServiceAddUser(user: String!, project: String!): [CargoPermissions!]!
  cargoServiceChangeCargoPermissions(change: CargoPermissionChange!, user: String!, bucket: String!): CargoPermissions!
}

input CargoPermissionChange {
  read: Boolean!
  write: Boolean!
  delete: Boolean!
  admin: Boolean!
}